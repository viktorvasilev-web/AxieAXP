<!DOCTYPE html>
<html lang="bg">

<head>
  <meta charset="UTF-8" />
  <title>AXP Analytics</title>
  <link rel="icon" href="logo1.png" type="image/png">

  <!-- üìö –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>

  <!-- üé® –°—Ç–∏–ª–æ–≤–µ -->
  <link rel="stylesheet" href="CSS/styles.css" />
</head>

<body>

  <!-- üü¶ Sidebar —Å —Ñ–∏–ª—Ç—Ä–∏ –∏ –±—É—Ç–æ–Ω–∏ -->
  <div class="sidebar">
    <div id="filterCollectionSwitch"></div>
    <div id="All Accounts"></div>
    <div id="ascendFilterContainer">
      <button id="ascendFilterBtn">üîº Ascend Only</button>
    </div>
    <div id="filterClassButtons" class="class-buttons"></div>
    <select id="filterBreed" style="display: none;">
      <option value="">–í—Å–∏—á–∫–∏ Breed</option>
    </select>
    <select id="filterLevel" style="display: none;">
      <option value="">–í—Å–∏—á–∫–∏ Level</option>
    </select>
    <div id="levelInputContainer">
      <div id="levelSliderContainer"></div>
      <div id="levelSliderValue">Level: 1</div>
      <div id="puritySliderContainer"></div>
    </div>
    <input type="text" id="filterGene" placeholder="Part" />
  </div>

  <!-- üü® –û—Å–Ω–æ–≤–Ω–∞ —á–∞—Å—Ç: –º–µ–Ω—é + Axie –∫–∞—Ä—Ç–∏ -->
  <main class="main-content">

    <!-- ‚ùå –ü—Ä–µ–º–∞—Ö–Ω–∞—Ç–æ: globalMenu2 -->

    <!-- üåç –ì–ª–æ–±–∞–ª–Ω–æ –º–µ–Ω—é (—â–µ —Å–∫—Ä–∏–µ–º —á–∞—Å—Ç–∏—á–Ω–æ —á—Ä–µ–∑ JS) -->
    <div id="globalMenu">
      <div id="viewSwitcher" class="view-switcher"></div>
    </div>

    <!-- ‚è≥ –ó–∞—Ä–µ–∂–¥–∞—â —Å–ø–∏–Ω—ä—Ä -->
    <div id="loadingSpinner" class="epic-spinner">
      <div class="half-circle-spinner">
        <div class="circle circle-1"></div>
        <div class="circle circle-2"></div>
      </div>
      <div class="spinner-text">AXP Loading...</div>
    </div>

    <!-- üß¨ Axie –∫–∞—Ä—Ç–∏ -->
    <div class="container" id="axieContainer"></div>
  </main>

  <!-- üì¶ –°–∫—Ä–∏–ø—Ç–æ–≤–µ (–ó–ê–î–™–õ–ñ–ò–¢–ï–õ–ï–ù —Ä–µ–¥ –Ω–∞ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ) -->
  <script type="module" src="JS/config.js"></script>
  <script type="module" src="JS/global-menu/global-menu-data-extract.js"></script>
  <script type="module" src="JS/global-menu/sorting-global-menu.js"></script>
  <script type="module" src="JS/global-menu/menu.js"></script>

  <!-- ‚ùå –ù–ï –∑–∞—Ä–µ–∂–¥–∞–º–µ mementobuttons.js -->

  <script src="JS/global-menu/updateAXPSum.js" defer></script>
  <script type="module" src="/JS/axp-loader.js"></script>
  <script type="module" src="JS/view-controller.js"></script>
  <script type="module" src="JS/main.js"></script>
  <script type="module" src="JS/ui/filterGene.js"></script>

  <!-- üß™ –°–∏–º—É–ª–∞—Ü–∏—è -->
  <script type="module">
    import { attachSimulationListeners, applySimulationToVisibleCards } from './JS/simulation/simulation-runner.js';
    attachSimulationListeners();
    if (window.__AXIE_SIMULATION__?.enabled) {
      requestAnimationFrame(applySimulationToVisibleCards);
    }
  </script>

  <!-- ‚úÖ –°–∫—Ä–∏–≤–∞–º–µ –Ω–µ–Ω—É–∂–Ω–∏ –Ω–µ—â–∞ + –∏–∑—á–∞–∫–≤–∞–º–µ AXP –±—É—Ç–æ–Ω–∞ -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const viewSwitcher = document.getElementById("viewSwitcher");
      if (viewSwitcher) viewSwitcher.style.display = "none";

      // –ò–∑—á–∞–∫–≤–∞–º–µ –¥–∞ —Å–µ –ø–æ—è–≤–∏ –±—É—Ç–æ–Ω–∞ –∑–∞ AXP
      const tryActivateAXP = setInterval(() => {
        const axpBtn = document.querySelector('button[data-view="axp"]');
        if (axpBtn) {
          axpBtn.click(); // –∞–∫—Ç–∏–≤–∏—Ä–∞ AXP –∏–∑–≥–ª–µ–¥–∞
          clearInterval(tryActivateAXP);
        }
      }, 100);
    });
  </script>

</body>

</html>